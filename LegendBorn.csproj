<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <OutputType>WinExe</OutputType>
        <TargetFramework>net10.0-windows</TargetFramework>
        <UseWPF>true</UseWPF>

        <Nullable>enable</Nullable>
        <ImplicitUsings>enable</ImplicitUsings>

        <!-- ВАЖНО: версия приложения = версия обновлений Velopack -->
        <Version>0.1.3</Version>
        <AssemblyVersion>0.1.3.0</AssemblyVersion>
        <FileVersion>0.1.3.0</FileVersion>

        <!-- ВАЖНО: чтобы WPF точно использовал твой Main() -->
        <StartupObject>LegendBorn.App</StartupObject>
    </PropertyGroup>

    <ItemGroup>
        <PackageReference Include="CmlLib.Core" Version="4.0.6" />
        <PackageReference Include="Velopack" Version="0.0.1369-g1d5c984" />
    </ItemGroup>

    <!-- Картинка фона как Resource (pack://application...) -->
    <ItemGroup>
        <Resource Include="Assets\legendcraft.jpg" />
    </ItemGroup>

    <!-- ВАЖНО: отключаем автосгенерированный WPF Main(), чтобы использовать свой Main() -->
    <ItemGroup>
        <ApplicationDefinition Remove="App.xaml" />
        <Page Include="App.xaml" />
    </ItemGroup>

    <ItemGroup>
        <Content Include=".github\workflows\release.yml" />
    </ItemGroup>

</Project>
